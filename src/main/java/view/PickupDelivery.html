<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Pickup & Delivery</title>
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.min.css"
  />
  <script src="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.min.js"></script>
  <style>
    body {
      font-family: sans-serif;
      text-align: center;
      margin: 2rem;
    }

    #map {
      height: 500px;
      width: 600px;
      margin: 0 auto;
      border: 2px solid #ccc;
      border-radius: 8px;
    }
  </style>
</head>
<body>
  <h2>Bonjour, voici la page Pickup & Delivery</h2>
  <div id="map"></div>

  <script>
    // --- Initialisation de la carte ---
    const map = L.map('map', {
      center: [45.7578137, 4.8320114], // Lyon
      zoom: 15,
    });

    // --- Couche OpenStreetMap ---
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution:
        '&copy; <a href="https://www.openstreetmap.org/copyright" target="_blank" rel="noopener noreferrer">OpenStreetMap</a> contributors',
    }).addTo(map);

    // --- Exemples de points ---
    const entrepot = [45.7578, 4.8320];      // Entrepôt
    const pickup = [45.7600, 4.8350];        // Point de pickup
    const delivery = [45.7525, 4.8285];      // Point de livraison

    // --- Marqueurs ---
    L.marker(entrepot).addTo(map).bindPopup("Entrepôt");
    L.marker(pickup).addTo(map).bindPopup("Pickup");
    L.marker(delivery).addTo(map).bindPopup("Delivery");

    // --- Lignes entre les points ---
    const route = L.polyline([ delivery,entrepot, pickup ], { color: 'blue' }).addTo(map);

    // --- Adapter la vue à la taille du trajet ---
    map.fitBounds(trajet.getBounds());
  </script>
</body>
</html>
